# Raspberry Pi 4 optimized configuration for hardware acceleration

[camera]
index = 0
resolution = [1920, 1080]  # Full HD
max_fps = 30
format = "H264"  # Hardware-accelerated H.264 encoding/decoding
# rotation = "Rotate180"  # Uncomment if camera is mounted upside down

[analyzer]
max_fps = 5  # Process every 6th frame for better performance
delta_threshold = 25
contour_minimum_area = 1000.0

[display]
framebuffer_device = "/dev/fb0"
backlight_device = "/sys/class/backlight/rpi_backlight/brightness"
touch_device = "/dev/input/event0"
activation_period_seconds = 30
resolution = [800, 480]  # Common Pi touchscreen resolution
# rotation = "Rotate90"  # Uncomment for portrait mode

[capture]
preroll_seconds = 2
postroll_seconds = 5
path = "/tmp/doorcam"
timestamp_overlay = true
video_encoding = true
keep_images = true

[stream]
ip = "0.0.0.0"
port = 8080

[system]
trim_old = true
retention_days = 30
ring_buffer_capacity = 150
event_bus_capacity = 100